[env]
PKG_CONFIG_ALLOW_CROSS = "1"

# Use system ld linker if lld is not available (Linux)
# Also ensure we use libstdc++ instead of libc++ on Linux
[target.x86_64-unknown-linux-gnu]
linker = "gcc"
rustflags = ["-C", "link-arg=-fuse-ld=bfd", "-C", "link-arg=-lstdc++"]

[target.aarch64-unknown-linux-gnu]
linker = "gcc"
rustflags = ["-C", "link-arg=-fuse-ld=bfd", "-C", "link-arg=-lstdc++"]

[target.aarch64-apple-ios]
rustflags = ["-C", "link-arg=-mios-version-min=16.0"]

[target.aarch64-apple-ios-sim]
rustflags = ["-C", "link-arg=-mios-simulator-version-min=16.0"]
